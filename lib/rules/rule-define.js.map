{"version":3,"file":"rule-define.js","names":["CONJUNCTION_TABLE","forbidden_form","preferred_form","NOUN_TABLE","findForbidden","surface_form","formTable","i","length","context","RuleError","fixer","matchPattern接続詞かな書き","matchTokenStream","matchPattern名詞送り仮名","token","forbbidenExist","undefined","index","word_position","fix","replaceTextRange"],"sources":["../../src/rules/rule-define.js"],"sourcesContent":["// LICENSE : MIT\r\n\"use strict\";\r\n/*\r\n    (f) 接続詞かな書き\r\n*/\r\nimport matchTokenStream from \"./../matchTokenStream\";\r\n\r\nconst CONJUNCTION_TABLE = [\r\n    {\r\n        forbidden_form: \"追って\",\r\n        preferred_form: \"おって\"\r\n    },\r\n    {\r\n        forbidden_form: \"従って\",\r\n        preferred_form: \"したがって\"\r\n    }\r\n];\r\n\r\nconst NOUN_TABLE = [\r\n    {\r\n        forbidden_form: \"打ち合わせ\",\r\n        preferred_form: \"打合せ\"\r\n    },\r\n    {\r\n        forbidden_form: \"受け付け\",\r\n        preferred_form: \"受付\"\r\n    }\r\n];\r\n\r\nfunction findForbidden(surface_form, formTable){\r\n    for(var i = 0; i < formTable.length; i++){\r\n        if(surface_form == formTable[i][\"forbidden_form\"]){\r\n            return formTable[i];\r\n        }\r\n    }\r\n    return;\r\n}\r\n\r\nexport default function (context) {\r\n    const {RuleError, fixer} = context;\r\n\r\n    const matchPattern接続詞かな書き = matchTokenStream([\r\n        {\r\n            \"pos\": \"接続詞\"\r\n        }\r\n    ]);\r\n\r\n    const matchPattern名詞送り仮名 = matchTokenStream([\r\n        {\r\n            \"pos\": \"名詞\"\r\n        }\r\n    ]);\r\n\r\n    return (token) => {\r\n        var forbbidenExist;\r\n\r\n        if (matchPattern接続詞かな書き(token) == true) {\r\n            forbbidenExist = findForbidden(token.surface_form, CONJUNCTION_TABLE);\r\n            if(forbbidenExist != undefined){\r\n                return new RuleError(`接続詞かな書き: ${forbbidenExist[\"forbidden_form\"]}`, {\r\n                    index: token.word_position - 1,\r\n                    fix: fixer.replaceTextRange([token.word_position - 1, token.word_position - 1 + token.surface_form.length], \"または\")\r\n                });\r\n            }\r\n        }\r\n        if (matchPattern名詞送り仮名(token) == true) {\r\n            forbbidenExist = findForbidden(token.surface_form, NOUN_TABLE);\r\n            if(forbbidenExist != undefined){\r\n                return new RuleError(`名詞送り仮名: ${forbbidenExist[\"forbidden_form\"]}`, {\r\n                    index: token.word_position - 1,\r\n                    fix: fixer.replaceTextRange([token.word_position - 1, token.word_position - 1 + token.surface_form.length], \"または\")\r\n                });\r\n            }\r\n        }\r\n    };\r\n}"],"mappings":"AAAA;AACA,YAAY;;AACZ;AACA;AACA;AAFA;EAAA;AAAA;AAAA;AAGA;AAAqD;AAErD,IAAMA,iBAAiB,GAAG,CACtB;EACIC,cAAc,EAAE,KAAK;EACrBC,cAAc,EAAE;AACpB,CAAC,EACD;EACID,cAAc,EAAE,KAAK;EACrBC,cAAc,EAAE;AACpB,CAAC,CACJ;AAED,IAAMC,UAAU,GAAG,CACf;EACIF,cAAc,EAAE,OAAO;EACvBC,cAAc,EAAE;AACpB,CAAC,EACD;EACID,cAAc,EAAE,MAAM;EACtBC,cAAc,EAAE;AACpB,CAAC,CACJ;AAED,SAASE,aAAa,CAACC,YAAY,EAAEC,SAAS,EAAC;EAC3C,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,SAAS,CAACE,MAAM,EAAED,CAAC,EAAE,EAAC;IACrC,IAAGF,YAAY,IAAIC,SAAS,CAACC,CAAC,CAAC,CAAC,gBAAgB,CAAC,EAAC;MAC9C,OAAOD,SAAS,CAACC,CAAC,CAAC;IACvB;EACJ;EACA;AACJ;AAEe,kBAAUE,OAAO,EAAE;EAC9B,IAAM;IAACC,SAAS;IAAEC;EAAK,CAAC,GAAGF,OAAO;EAElC,IAAMG,mBAAmB,GAAG,IAAAC,yBAAgB,EAAC,CACzC;IACI,KAAK,EAAE;EACX,CAAC,CACJ,CAAC;EAEF,IAAMC,kBAAkB,GAAG,IAAAD,yBAAgB,EAAC,CACxC;IACI,KAAK,EAAE;EACX,CAAC,CACJ,CAAC;EAEF,OAAQE,KAAK,IAAK;IACd,IAAIC,cAAc;IAElB,IAAIJ,mBAAmB,CAACG,KAAK,CAAC,IAAI,IAAI,EAAE;MACpCC,cAAc,GAAGZ,aAAa,CAACW,KAAK,CAACV,YAAY,EAAEL,iBAAiB,CAAC;MACrE,IAAGgB,cAAc,IAAIC,SAAS,EAAC;QAC3B,OAAO,IAAIP,SAAS,uDAAaM,cAAc,CAAC,gBAAgB,CAAC,GAAI;UACjEE,KAAK,EAAEH,KAAK,CAACI,aAAa,GAAG,CAAC;UAC9BC,GAAG,EAAET,KAAK,CAACU,gBAAgB,CAAC,CAACN,KAAK,CAACI,aAAa,GAAG,CAAC,EAAEJ,KAAK,CAACI,aAAa,GAAG,CAAC,GAAGJ,KAAK,CAACV,YAAY,CAACG,MAAM,CAAC,EAAE,KAAK;QACrH,CAAC,CAAC;MACN;IACJ;IACA,IAAIM,kBAAkB,CAACC,KAAK,CAAC,IAAI,IAAI,EAAE;MACnCC,cAAc,GAAGZ,aAAa,CAACW,KAAK,CAACV,YAAY,EAAEF,UAAU,CAAC;MAC9D,IAAGa,cAAc,IAAIC,SAAS,EAAC;QAC3B,OAAO,IAAIP,SAAS,iDAAYM,cAAc,CAAC,gBAAgB,CAAC,GAAI;UAChEE,KAAK,EAAEH,KAAK,CAACI,aAAa,GAAG,CAAC;UAC9BC,GAAG,EAAET,KAAK,CAACU,gBAAgB,CAAC,CAACN,KAAK,CAACI,aAAa,GAAG,CAAC,EAAEJ,KAAK,CAACI,aAAa,GAAG,CAAC,GAAGJ,KAAK,CAACV,YAAY,CAACG,MAAM,CAAC,EAAE,KAAK;QACrH,CAAC,CAAC;MACN;IACJ;EACJ,CAAC;AACL"}